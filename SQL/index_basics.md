# Индексы. Часть I - что такое, виды индексов

**Индекс** - это древовидная структура данных. В узлах этого дерева хранятся данные из таблицы.
Индексы - один из главных способов достижения высокой производительности в SQL. Они ускоряют процесс запроса, предоставляя быстрый доступ к строкам таблицы, аналогично тому, как оглавление в книге позволяет быстро найти нужную информацию.
Индексы создаются для столбцов таблиц и представлений. При этом индекс нельзя повесить на колонку, где содержатся тип Image.

При отсутствии индекса - будут просканированы все строки, которые есть в таблице и на основе фильтра будет выдан результат.

При наличии индекса мы будем искать по дереву, соответственно уменьшать поисковый охват. Т.е. нам не нужно будет сканировать все записи в таблице, что существенно улучшает производительность.

### Виды индексов

- кластеризованный;
- некластеризованный.

### Кластеризованный индекс

Кластеризованный индекс хранит реальные строки в своих листьях(узлах). Т.е. таблица с кластеризованным индексом - по сути это таблица, отсортированная по полю с этим индексом. Таким образом, у таблицы может быть только один кластеризованный индекс (т.к. таблицу можно отсортировать только по одному столбцу).
Кластеризованный индекс обеспечивает максимальную производительность, т.к. сразу содержит строки таблицы. Если таблица не имеет кластеризованного индекса, то она называется кучей.
Если кластеризованный индекс был повешен на поле с неуникальными значениями, то ко всем дубликатам в индексируемое поле будет добавлен уникальный идентификатор - и получится что-то вроде Иванов1234.

### Некластеризованный индекс

Листья(узлы) некластеризованного индекса хранят только те столбцы, по которым определён этот некластеризованный индекс и ссылки на реальные строки таблицы. Это значит, что системе запросов необходима дополнительная операция на извлечение строки из таблицы, что ухудшает производительность запросов с некластеризованным индексом. Т.к. некластеризованные индексы не сортируют таблицу, то их может быть несколько на одной таблице.